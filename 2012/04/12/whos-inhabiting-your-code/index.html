<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Opower Engineering Blog">
        <meta name="author" content="Opower's Engineering Team">

        <link rel="alternate" type="application/rss+xml" title="Opower Engineering Blog" href="/feed.xml" />

        <title>Opower | Who's Inhabiting Your Code?</title>

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="/css/bootstrap.min.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Pluggy Font -->
        <link rel="stylesheet" href="/css/pluggyfont.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/archive.css">
        <link rel="stylesheet" href="/css/custom.css">
        <link rel="stylesheet" href="/css/post.css">
        <link rel="stylesheet" href="/css/profile.css">

    </head>

    <body>

    <!-- Wraps page content to push the footer down -->
    <div id="wrap">

        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">OP<b>O</b>WER</a>
                <div class="nav-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/">Home</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-8">

                <div class="post">
  <div class="page-header">
    <h1><a class="title" href="/2012/04/12/whos-inhabiting-your-code">Who's Inhabiting Your Code?</a></h1>
    <p class="meta">by <a href="/authors/ed-peters">Ed Peters</a>
 | April 12, 2012</p>
    <div class="clearfix"></div>
  </div>

  <div class="post-content">
    <p>Lately I&rsquo;ve been thinking about the notion of &ldquo;beautiful code&rdquo;, and finding it to be less and less satisfying as a goal.  First off, beauty is elusive: everyone seems to have a different concept of what it means (and except for mine, they&rsquo;re all wrong).  And second, even when you can label a piece of code as &ldquo;beautiful&rdquo;, it&rsquo;s not at all clear how that translates into other desirable characteristics like performance, maintainability, and so forth.</p>

<p>In my reading, I came across a great article by Rebecca Wirfs-Brock<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> in which she discusses the notion of &ldquo;habitable code&rdquo;.  This idea isn&rsquo;t original to her (she credits Richard Gabriel in Patterns of Software<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>), but she provides a great explanation of the concept, and goes on to talk about its role in complex systems.</p>

<p>Paraphrasing some key points &hellip;</p>

<ul>
  <li>
    <p><em>Clarity for its own sake is an elusive goal</em>.  In my own experience, if I strive really hard to make some aspect of my code crystal clear (say, a challenging algorithm or data structure), it&rsquo;s at the expense of clarity in some other area. It&rsquo;s a bit like a game of <a href="http://en.wikipedia.org/wiki/Whac-A-Mole">Whac-A-Mole</a>.  Just as you can&rsquo;t write code that&rsquo;s infinitely flexible in the face of unknown future requirements, I don&rsquo;t think you can write code that&rsquo;s infinitely clear to an unknown future audience.</p>
  </li>
  <li>
    <p><em>Beauty becomes a constraint for future authors</em>.  It&rsquo;s hard to extend or update excessively beautiful code without spoiling some of its inherent loveliness.  An analogy to industrial design &ndash; the MacBook Air achieves a certain level of elegance by ruthlessly eliminating functionality like replaceable batteries, integrated Ethernet or a DVD drive.  How difficult would it be to add that stuff in later without compromising the original aesthetic?  Probably very.</p>
  </li>
  <li>
    <p><em>Habitable code makes its structure and intentions easy to understand</em>.  Structure, sure, but as a professional developer, the &ldquo;and intentions&rdquo; part seems pretty important.  You can read code to understand what it&rsquo;s doing, but it&rsquo;s not always obvious what problem the original author thought it was solving.  This is a hard thing to do right &ndash; the best I&rsquo;ve been able to do is document the problem being solved, and make the structure of the code appropriate to the solution.  Code reviews are a huge help in identifying areas that need improvement in either direction.</p>
  </li>
  <li>
    <p><em>Habitable code makes developers feel at home</em>.  At <a href="http://www.opower.com">Opower</a> we have a pretty good-sized body of coding conventions, some of which are automatically enforced using tools like Checkstyle and PMD.  To new hires, it sometimes seems totalitarian (it did to me). But once you&rsquo;ve been around awhile, you notice a funny thing: you can go almost anywhere in our source base and see things done in a similar fashion.  This helps us transition from artifact to artifact more easily, and reduces the overhead in sharing code. Habitable, indeed.</p>
  </li>
</ul>

<p>Just like any other principles, these can be reduced to absurdity.  Giving up completely on clarity is obviously not the answer, nor is making your code horribly ugly so that future maintainers don&rsquo;t feel bad about rewriting it.  But it&rsquo;s interesting to think about where habitability differs from clarity and beauty, and what it demands of us as developers.</p>

<p>So &hellip; who&rsquo;s inhabiting your code today?  Whose code are you inhabiting?  How is that going to change in a month?  Six months?  A year?  And what are you doing to make each other feel welcome and at home?</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="http://www.wirfs-brock.com/PDFs/DoesBeautifulCodeImply.pdf">Does Beautiful Code Imply Beautiful Design</a> by Rebecca Wirfs-Brock.<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p><a href="http://dreamsongs.net/Files/PatternsOfSoftware.pdf">Patterns of Software: Tales from the Software Community</a> by Richard P. Gabriel.<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

  </div>
</div>


                </div>
                <div class="sidebar col-lg-4">
                    <div class="panel">
                        <div class="panel-heading">
                            <h3 class="panel-title">Opower Projects</h3>
                        </div>
                        <ul class="list-group project-list">
                            <li class="project list-group-item" repo="opower/elroi"></li>
                            <li class="project list-group-item" repo="opower/sensu-metrics-relay"></li>
                            <li class="project list-group-item" repo="opower/jpile"></li>
                            <li class="project list-group-item" repo="opower/jackson-module-unitsofmeasure"></li>
                        </ul> <!-- /.list-group -->
                    </div> <!-- /.panel -->
                    <div class="panel">
                        <div class="panel-heading">
                            <h3 class="panel-title">Personal Projects</h3>
                        </div>
                        <ul class="list-group project-list">
                            <li class="project list-group-item" repo="dylang/shortid"></li>
                            <li class="project list-group-item" repo="seancolyer/gmail-crypt"></li>
                        </ul> <!-- /.list-group -->
                    </div> <!-- /.panel -->
                </div>

            </div>
        </div><!-- /.container -->

    </div><!-- /#wrap -->

    <div id="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    &copy; 2014 <a href="http://opower.com">Opower</a> &reg;
                    All content represents the opinion of the author and does not represent Opower.<br/>
                    <a href="http://opower.com/company/privacy-policy/">Privacy</a> :
                    <a href="http://opower.com/company/terms/">Terms</a>
                </div>
                <div class="col-lg-6">
                    <ul class="pull-right">
                        <li><a href="http://github.com/opower">Github</a></li>
                        <li><a href="http://twitter.com/opower">Twitter</a></li>
                        <li><a href="http://www.linkedin.com/company/opower">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

  </body>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/live-repos.js"></script>
</html>
